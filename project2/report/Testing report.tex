\documentclass[12pt,letterpaper]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{listings} % Source code formatting and highlighting
\usepackage{color}
\usepackage{pgfplotstable} % Generates table from .csv
\usepackage{booktabs} % For \toprule, \midrule and \bottomrule
\usepackage[left=1.00in, right=1.00in, top=1.00in, bottom=1.00in]{geometry}
\author{Brett Worley}
\title{Project 2: Password checker testing}
\date{version: \today}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=,
  language=C,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=left,
  numberstyle=\color{black},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{red},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=4
}

\begin{document}

\maketitle
\tableofcontents



\section{Introduction}

The program to be developed is a password checking module. It will be used to check if a password
meets the requirements of the system. This document covers the various testing strategies
used to test the program. The finalized test plan was developed by using Equivalence class
and boundary testing, Orthogonal array testing, and Decision table testing. Along
with the code, a testing harness was created to provide automated and manual testing to check
the coverage of each test case. The purpose of using these various methods to test the program
is to ensure good coverage of the system from the finalized test plan.

\subsection{Requirements}

The requirements of the password checking program are as follows.

\begin{enumerate}

\item The new password shall be at least 9 characters long, and no longer than
24 characters.
\item New passwords cannot contain any blank spaces, and must contain only numberals, upper-case and lower-case letters, and
the specials characters listed in Requirement 4.
\item All new passwords must contain at least two upper case letters, at least two lower case
letters, and at least two numerals.
\item New passwords must contain at least two special characters from the following list: 
  !  @  \#  \$  \%  \&  *  )  (  ]  [  \}  \{  $>$  $<$  ; 
   :  .  ,  /  $|$   \textbackslash  \~{}  ?  \_  $-$  $+$  $=$ 

\item New passwords cannot be similar to any of the other two previous passwords, with ``similar to'' defined
as ``containing an identical five-character substring (either forward or backward), independent of letter
case (for example, a5\%Km and a5\%kM would be considered identical substrings).

\end{enumerate}

\subsection{Automated testing file format}

The testing harness program was developed to allow automated testing. It reads in a file given to the
program and will run through each test case, after each test case it will output whether it
passed or failed. The file to be read must match the following specified format for each test case.

\begin{center}
New password \\
Current password \\
Previous password \\
A or R (Case is ignored)
\end{center}

For this file format, the A or R line is for the expected output for each test case. The expect output
line also allows for a comment following the A or R, this is to help the tester keep track of
what is being tested against in this case. The file should contain the resulting final
test plan of 30 test cases, but any number of test cases will be allowed to be
read and processed.

\section{Equivalence class and boundary testing}

\subsection{Introduction}
To implement equivalence classes and boundary testing, we will need to analyze the requirements
for the system and develop equivalence classes that will show the border values to test against.
By going through the requirements for the system, we can identify the border conditions and
come up with the following equivalence partitions shown in table 1. The border conditions are important,
as they are the most likely place that the system will fail on and around.  Having these
cases also enables testers to trim down similar or equivalent test cases that essentially
test the same values, compared against the border conditions.

\subsection{Boundary conditions}

From the requirements of the program, we can form a set of boundary conditions. These
boundary conditions are the values that we will provides test for.

\begin{enumerate}
\item Contains 1 or less
\begin{enumerate}
\item testing sub items?
\end{enumerate}
\item Contains less than 9 characters
\item Contains 9 characters
\item Contains 24 characters
\item Contains more than 24 characters
\item Contains 2 or more upper case
\item Contains 1 or less upper case
\item Contains 2 or more lower case
\item Contains 1 or less lower case
\item Contains 2 or more numbers
\item Contains 1 or less numbers
\item Contains 2 or more special characters
\item Contains 1 or less special characters
\item Contains no space
\item Contains a space
\item Contains a 5 character substring that is similar to a previous password
\item Does not contain a 5 character substring that is similar to a previous password
\end{enumerate}
% List the boundary conditions
%\begin{table}[h!]
  %\begin{center}
   %\caption{Boundary Conditions}
    %\%\label{tab:Boundaries}

    %\begin{tabular}{|c|}

  %\end{center}
%\end{table}


\subsection{Equivalence Partitions}

From the previous boundary conditions, we can form a set of equivalence classes. Each equivalence
class represents a set of data that is related.
% Possibly import the class partitions as figures from the powerpoint slides
\begin{table}[h!]
  \begin{center}
    \caption{Equivalence Partitions.}
    \label{tab:Equiv partitions}
    
    % Length settings
    \begin{tabular}{||c|m{4cm}|m{5cm}||}
    \hline
    Less than 9 characters & At least 9 characters and not more than 24
    characters & More than 24 characters \\
    
    % Space settings
    \hline \hline
    \multicolumn{1}{||c|}{Contains no blank spaces} & \multicolumn{2}{c||}{Contains no blank spaces} \\
    
    % Lower case settings
    \hline \hline
    \multicolumn{1}{||c|}{Contains insufficient lower case} 
    & \multicolumn{2}{c||}{Contains sufficient lower case} \\
    
    % Upper case settings
    \hline \hline
    \multicolumn{1}{||c|}{Contains insufficient upper case} 
    & \multicolumn{2}{c||}{Contains sufficient upper case} \\
    
    % Number settings
    \hline \hline
    \multicolumn{1}{||c|}{Contains insufficient numbers} 
    & \multicolumn{2}{c||}{Contains sufficient numbers} \\
    
    % Special character settings
    \hline \hline
    \multicolumn{1}{||c|}{Contains insufficient special characters} 
    & \multicolumn{2}{c||}{Contains sufficient special characters} \\
    
    % Previous password settings
    \hline \hline
    \multicolumn{1}{||c|}{Contains a identical five-character substring}
    & \multicolumn{2}{c||}{Does not contain a indentical five-character subtring} \\
    \hline
    \end{tabular}
  \end{center}
\end{table}

With these equivalence partitions, we are able to generate simple test cases
based on passing or failing the classes one at a time. The following test plan
is made up of 8 test cases that are designed to fail a certain requirement of
the system.
\newline


\subsection{Test plan}

\newcommand{\specialcell}[2][c]{% Custom talbe lines, set for 3 rows in one table cell
  \begin{tabular}[#1]{@{}c@{}}#2\end{tabular}}

\centering Equivalence class and Boundary Test Plan
% Valid Password samples

% GUha891))
% \#558\#\&;DoGs
% AVery990\#\^{}
% SimPass12!!
% ToT86635ss/\textless

% Valid case
\begin{center}
  \begin{tabular}{||c|c||}
  \hline
  \multicolumn{2}{||c||}{Test Case 1} \\
  \hline
  Purpose & Testing a valid password \\
  \hline
  New Password & DahatB2559\_@ \\
  \hline
  Current Password & ToT86635ss/\textless \\
  \hline
  Previous Password & AVery990\#\^{} \\
  \hline
  Expected Output & ACCEPTED \\
  \hline
  \end{tabular}
\end{center}
\vspace{1mm}
% Too Similar case
\begin{center}
  \begin{tabular}{||c|c||}
  \hline
  \multicolumn{2}{||c||}{Test Case 2} \\
  \hline
  Purpose & Testing against a similar password \\
  \hline
  New Password & SsaPmis628@@ \\
  \hline
  Current Password & \#558\#\&;DoGs \\
  \hline
  Previous Password & SimPass12!! \\
  \hline
  Expected Output & REJECTED: password too similar to a previous password \\
  \hline
  \end{tabular}
\end{center}
\vspace{1mm}
% Space fail case
\begin{center}
  \begin{tabular}{||c|c||}
  \hline
  \multicolumn{2}{||c||}{Test Case 3} \\
  \hline
  Purpose & Testing against a password containing a space\\
  \hline
  New Password & \&\^{}!aaCH91 chat \\
  \hline
  Current Password & \#558\#\&;DoGs \\
  \hline
  Previous Password & ToT86635ss/\textless \\
  \hline
  Expected Output & REJECTED: password contains a space \\
  \hline
  \end{tabular}
\end{center}
\vspace{1mm}
% Lower case test
\begin{center}
  \begin{tabular}{||c|c||}
  \hline
  \multicolumn{2}{||c||}{Test Case 4} \\
  \hline
  Purpose & Testing against a password with not enough lower case letters \\
  \hline
  New Password & \#\$678123HOUSE \\
  \hline
  Current Password & ToT86635ss/\textless \\
  \hline
  Previous Password & SimPass12!! \\
  \hline
  Expected Output & REJECTED: password does not have enough lower case letters \\
  \hline
  \end{tabular}
\end{center}
\vspace{1mm}
% Upper case test
\begin{center}
  \begin{tabular}{||c|c||}
  \hline
  \multicolumn{2}{||c||}{Test Case 5} \\
  \hline
  Purpose & Testing against password with not enough upper case letters \\
  \hline
  New Password & lowercasepasswords!;123 \\
  \hline
  Current Password & 445HAtter(( \\
  \hline
  Previous Password & \#558\#\&;DoGs \\
  \hline
  Expected Output & REJECTED: password does not have enough upper case letters \\
  \hline
  \end{tabular}
\end{center}
\vspace{1mm}
% Number test
\begin{center}
  \begin{tabular}{||c|c||}
  \hline
  \multicolumn{2}{||c||}{Test Case 6} \\
  \hline
  Purpose & Testing against not enough numbers \\
  \hline
  New Password & NumberBoycott\_? \\
  \hline
  Current Password & SimPass12!! \\
  \hline
  Previous Password & 445HAtter(( \\
  \hline
  Expected Output & REJECTED: password does not have enough numbers \\
  \hline
  \end{tabular}
\end{center}
\vspace{1mm}
% Short password test
\begin{center}
  \begin{tabular}{||c|c||}
  \hline
  \multicolumn{2}{||c||}{Test Case 7} \\
  \hline
  Purpose & Testing against a short password \\
  \hline
  New Password & Do12ah\_$=$ \\
  \hline
  Current Password & GUha891)) \\
  \hline
  Previous Password & \_CAThat22$=$ \\
  \hline
  Expected Output & REJECTED: password is too short \\
  \hline
  \end{tabular}
\end{center}
\vspace{1mm}
% Long password test
\begin{center}
  \begin{tabular}{||c|c||}
  \hline
  \multicolumn{2}{||c||}{Test Case 8} \\
  \hline
  Purpose & Testing against not enough numbers \\
  \hline
  New Password & WAYtooLong\_\_$+$$=$8835houseing40 \\
  \hline
  Current Password & \#558\#\&;DoGs \\
  \hline
  Previous Password & lowerCASEpasswords!;123 \\
  \hline
  Expected Output & REJECTED: password is too long \\
  \hline
  \end{tabular}
\end{center}



\section{Orthogonal array testing}

\subsection{Introduction}

In order to create a test plan from an orthogonal array, we need to look back at our equivalence classes
based off of the requirements. The orthogonal array method of creating test cases is based off of equivalence partitions
and the boundary cases that come from that. Using the orthogonal array method to generate test plans requires more thought
as to how to setup the program to actually generate an orthogonal array. While originally looking at how to layout
the sets of rules to create the orthogonal array, I had put each rule based on the equivalence partitions into
a 9 character password set. This setup was not usable, as the number of test cases created this way was too large
and a majority of the cases did not provide good testing or make much sense when looking at the requirements.


\subsection{Test plan}


\section{Decision table testing}

\subsection{Introduction}

In order to make a Decision table for testing, we need to get the basic logic of the system.
We can take the system requirements and find the border cases for the system, this will lay
out some of the conditions for the system. By looking at the following cases, we
can break down the cases to a smaller number to be used in the Decision table.

\subsection{Test method development}

\begin{enumerate}
\item Less than 9 characters
\item 9 characters
\item 24 characters
\item More than 24 characters
\item Contains sufficient lower case
\item Contains sufficient upper case
\item Contains sufficient numbers
\item Contains sufficient special characters
\item Contains a identical five-character substring (Similar)
\item Does not contain a identical five-character substring (Not similar)
\end{enumerate}

The broken down cases into simple logic for the Decision table would look like the following.
These cases would be True/False options that correspond to the logic of the system.

\begin{itemize}
\item 9-24 characters
\item Upper case
\item Lower case
\item Numbers
\item Special Characters
\item Space
\item Similar to previous password(s)
\end{itemize}

This list of the simplified logic could be used in the Decision table except that the similar to is vague based on the
requirements for the system. The requirements define similar to as: containing an identical five-character
substring (either forward or backward), independent of letter case.
Using this, we will break down the case into separate cases. While we could break down the case into
four separate cases (forward, backward, equals case, ignore case), the equals and
ignore cases would be redundant, as the ignore case would still catch situations that the equals
case is used for. The similar to we will broken into the two following separate cases in which the ignore case is implied.
\begin{itemize}
\item Similar five-character substring forwards
\item Similar five-character substring backwards
\end{itemize}

\subsection{Resulting Decision table}

% Decision table part
\begin{table}[h]
  \begin{center}
    \caption{Decision table}
    \label{tab:Decision table}
    
    \begin{tabular}{c|c|c|c|c|c|c|c|c|c|c|c|}
    & 1 & 2 - 26 & 26 & 27 - 63 & 64 - 100 & 101 & 7 & 8 & 9 & 10 & 11 \\
    \hline
    9-24 chars & F & F & T &  &  & T & & & & & \\
    \hline
    Upper case & F & - & F &  &  & T & & & & & \\
    \hline
    Lower case & F & - & F &  &  & T & & & & & \\
    \hline
    Numbers & F & - & F &  &  & T & & & & & \\
    \hline
    Special characters & F & - & T &  &  & T & & & & & \\
    \hline
    Space & T & - & T &  &  & F & & & & & \\
    \hline 
    Similar to, forwards & T & F & F & T & F & F & & & & & \\
    \hline
    Similar to, backwards & F & F & T & F & T & F & & & & & \\
    \midrule
    Accept & & & & & & X & & & & & \\
    \hline
    Reject & & X & X & X & X & & & & & & \\
    \hline
    Impossible & X & & & & & & & & & & \\
    \end{tabular}
    
    Legend: T = True, F = False, - = Don't care, x = Expected output
  \end{center}
\end{table}

% Decision table test cases
\begin{table}[h]
  \caption{Test Plan}
  \label{tab:Decision test cases}
  
  \begin{tabular}{||c|c||}
    \hline
    \multicolumn{2}{||c||}{Test Case 1} \\
    \hline
    New Password & SOLID9019 \\
    \hline
    Current Password & catHOUsing24\_! \\
    \hline
    Previous Password & 9926CAdo\%\& \\
    \hline
    Expected Output & Rejected \\
    \hline
  \end{tabular}
\end{table}

\subsection{Test plan}


\section{Combined Test Plan}

\subsection{Results}

From the various testing methods that were used for testing this program,
we can combine the resulting test cases into a single test plan. This final
test plan will provide comprehinsive coverage of the program.

% Finalized test plan table area



% Final section for the report
\section{Code}

\subsection{password\_checker.c}

\lstinputlisting{code/password_checker.c}


\subsection{password\_checker.h}

\lstinputlisting{code/password_checker.h}

\subsection{tester.c}

\lstinputlisting{code/tester.c}

\end{document}
